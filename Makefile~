CC = gcc
CFLAGS =-Ih -Idht11/h -Ilogger/h -Isim_stubs/h -Wall
DEPS =
OBJ = logger/src/logger.o dht11/src/dht11.o raspilogger.o
OBJSIM = sim_stubs/src/stubs.o

#%.o: %.c $(DEPS)
#	$(CC) -c -o $@ $< $(CFLAGS)

target: $(OBJ)
	$(CC) -c -o $@ $< $(CFLAGS)
	$(CC) -o $@ $^ $(CFLAGS)

simulation: $(OBJ) $(OBJSIM)
	$(CC) -c -o $@ $< $(CFLAGS) -DSIMULATION
	$(CC) -o $@ $^ $(CFLAGS) -I../sim_stubs/h -DSIMULATION

clean:
	rm $(OBJ)
